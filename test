using NUnit.Framework;
using OpenQA.Selenium;
using OpenQA.Selenium.Support.UI;
using System;
using System.Collections.Generic;
using System.IO;
using System.Reflection;
using System.Text;



namespace Khazna
{
    class Test
    {
        IWebDriver driver;
        //String actualUrl = "";

        public Test(IWebDriver driver)
        {
            this.driver = driver;
        }


        public void Setup()
        {
            driver.Manage().Window.Maximize();
            driver.Navigate().GoToUrl("https://id.atlassian.com/login");
        }

        public void Successful_login()
        {
            driver.FindElement(By.XPath("/html/body/div[1]/div/div/div/div[2]/div[2]/div/section/div[2]/form/div[1]/div/div/div/div/input")).SendKeys("nadakhairy5@gmail.com");
            driver.FindElement(By.XPath("/html/body/div[1]/div/div/div/div[2]/div[2]/div/section/div[2]/form/div[3]/button/span/span/span")).Click();
            WebDriverWait wait = new WebDriverWait(driver, TimeSpan.FromSeconds(60));
            IWebElement webElement = wait.Until(ExpectedConditions.ElementIsVisible(By.XPath("/html/body/div[1]/div/div/div/div[2]/div[2]/div/section/div[2]/form/div[2]/div/div/div/div/div/div/input")));
            driver.FindElement(By.XPath("/html/body/div[1]/div/div/div/div[2]/div[2]/div/section/div[2]/form/div[2]/div/div/div/div/div/div/input")).SendKeys("745821mksnada");
            driver.FindElement(By.XPath("/html/body/div[1]/div/div/div/div[2]/div[2]/div/section/div[2]/form/div[3]/button/span/span/span")).Click();


        }

        public void creatBug()
        {
            WebDriverWait wait = new WebDriverWait(driver, TimeSpan.FromSeconds(30));
            IWebElement webElement = wait.Until(ExpectedConditions.ElementIsVisible(By.XPath("/html/body/div[2]/div[3]/div/div[2]/div[2]/div/div/div/div[3]/div/div[2]/a[1]/button/div/div[1]")));
            driver.FindElement(By.XPath("/html/body/div[2]/div[3]/div/div[2]/div[2]/div/div/div/div[3]/div/div[2]/a[1]/button/div/div[1]")).Click();

            IWebElement webElement1 = wait.Until(ExpectedConditions.ElementIsVisible(By.XPath("/html/body/div[1]/div[1]/div/div[3]/div[1]/div/div/div/div[2]/div/table/tbody/tr/td[2]/a/div/span")));
            driver.FindElement(By.XPath("/html/body/div[1]/div[1]/div/div[3]/div[1]/div/div/div/div[2]/div/table/tbody/tr/td[2]/a/div/span")).Click();

            WebDriverWait wait2 = new WebDriverWait(driver, TimeSpan.FromSeconds(40));
            IWebElement webElement2 = wait2.Until(ExpectedConditions.ElementIsVisible(By.XPath("/html/body/div[1]/div[1]/div/div[1]/div/header/nav/div[3]/div[7]/span/div/button[1]/span/span")));
            driver.FindElement(By.XPath("/html/body/div[1]/div[1]/div/div[1]/div/header/nav/div[3]/div[7]/span/div/button[1]/span/span")).Click();


            //parsing


            using (var reader = new StreamReader(@"C:\Users\Nada Khairy\OneDrive\Desktop\issue2.csv"))
            {
                List<string> listA = new List<string>();
                List<string> listB = new List<string>();
                List<string> listC = new List<string>();
                while (!reader.EndOfStream)
                {

                    string line = reader.ReadLine();
                    var values = line.Split(',');
                    //values[1] = values[1].ToString();
                    listA.Add(values[0]);
                   // listB.Add(values[1]);


                foreach (var value in values)
                {
                    listA.Add(value);
                }
                foreach (var coloumn1 in listA)
                {
                    Console.WriteLine(coloumn1);
                }
            }

            WebDriverWait wait3 = new WebDriverWait(driver, TimeSpan.FromSeconds(40));
                IWebElement webElement3 = wait3.Until(ExpectedConditions.ElementIsVisible(By.XPath("/html/body/div[20]/div[2]/div[1]/div/form/div[1]/div[2]/div[1]/input")));
                driver.FindElement(By.XPath("/html/body/div[20]/div[2]/div[1]/div/form/div[1]/div[2]/div[1]/input")).SendKeys(listA[0]);
                driver.FindElement(By.XPath("/html/body/div[20]/div[2]/div[1]/div/form/div[1]/div[2]/div[3]/div/div[1]/div[9]/textarea")).SendKeys(listB[0]);
            

        
                
                
            }
            

          



        }
    }
}
